# `Command`, `Decorator`, `Proxy` patterns

Здесь находится собственная реализация паттернов `Command`, `Decorator`, `Proxy` в рамках одного приложения


## О реализации `Command`

В качестве примера был выбран servlet API. Создается один сервлет и на эндпоинт отправляется запрос с параметром, указывающий на метод
1. Создан `CommandInvoker` - хранящий параметры с реализацией сервисов
2. Создан сервлет `ServletDriver`, содержащий один эндпоинт, который перехватит service() и перенаправит в нужную логику исходя из параметра

Паттерн Command позволяет servlet-у получать запросы и делегировать их выполнение объекту CommandInvoker, который, в свою очередь, выполняет соответствующую команду

   Таким образом получаем гибкий, легко расширяемый код без жесткой связи между обьектами

## О реализации `Decorator`

В примере была создана in-memory база данных. К ней был применен данный паттерн
1. Создан абстрактный класс `DataBaseDecorator`, которые может обернуть новой логикой любую реализацию `DataBase`
2. Созданы декораторы `CashingDecorator` и `LoggingDecorator` для дополнительной логики кеширования и логирования соответственно
3. Для обращения только к одному экземпляру базы данных был создан  `SingletonDataBase`, в котором и применяется паттерн `Decorator`

   Таким образом получаем добавление функционала к любой реализации `DataBase` без изменения ее основной логики

## О реализации `Proxy`

1. Создана аннотация `Log`, благодоря которой помечается метод для логирования
2. Создан абстракнтый класс `AbstractProxy`, который содержит проксируемый класс, методы, аннотированные аннотацией `Log`, логику по поиску этих методов
3. Созданы прокси-оболочки : `GetProductProxy`, `SaveProductProxy`, `UpdateProductProxy`, заданных в `CommandInvoker`
4. Проксируемый класс передает наименование своего метода и параметры, если был найден метод с аннотацией `Log`, то будет выполнен метод с логированием, если нет - обычное выполнение

   Таким образом получаем дополнительную логику для проксируемого класса. При этом, абстракция не знает, была ли добавлена к ней логика, или же нет.

## Спасибо за посещение!